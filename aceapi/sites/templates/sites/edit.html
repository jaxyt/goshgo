
{% load static %}
<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href={% static 'main/assets/images/favicon.png' %}>
    <title>Nice admin Template - The Ultimate Multipurpose admin template</title>
	<link rel="canonical" href="" />
  <script type="text/javascript" src={% static 'main.js' %}></script>

    <!-- Custom CSS -->
    <link href={% static 'main/dist/css/style.min.css' %} rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/lib/codemirror.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/sparksuite-codemirror-spell-checker-76b6450/dist/spell-checker.min.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/3024-day.css' %}>

    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/3024-night.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/abcdef.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/ambiance.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/ayu-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/ayu-mirage.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/base16-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/bespin.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/base16-light.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/blackboard.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/cobalt.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/colorforth.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/dracula.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/duotone-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/duotone-light.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/eclipse.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/elegant.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/erlang-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/gruvbox-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/hopscotch.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/icecoder.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/isotope.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/lesser-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/liquibyte.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/lucario.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/material.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/material-darker.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/material-palenight.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/material-ocean.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/mbo.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/mdn-like.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/midnight.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/monokai.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/moxer.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/neat.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/neo.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/night.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/nord.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/oceanic-next.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/panda-syntax.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/paraiso-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/paraiso-light.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/pastel-on-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/railscasts.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/rubyblue.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/seti.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/shadowfox.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/solarized.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/the-matrix.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/tomorrow-night-bright.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/tomorrow-night-eighties.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/ttcn.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/twilight.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/vibrant-ink.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/xq-dark.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/xq-light.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/yeti.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/idea.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/darcula.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/yonce.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/theme/zenburn.css' %}>

    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/display/fullscreen.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/dialog/dialog.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/search/matchesonscrollbar.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/lint.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/merge/merge.css' %}>
    <link rel="stylesheet" href={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/hint/show-hint.css' %}>

    <link href={% static 'main/assets/extra-libs/toastr/dist/build/toastr.min.css' %} rel="stylesheet">

    <style media="screen">
      .hide {
        display: none;
      }

      #editor-toolbar {
        display: flex;
        flex-wrap: wrap;
      }

      p > textarea {
        width: 100%;
      }

      @media (min-width:768px) {
        #main-wrapper[data-layout=vertical][data-sidebartype=mini-sidebar] .page-wrapper {
          margin-left:5px;
        }
        #main-wrapper[data-layout="vertical"][data-sidebar-position="fixed"] .left-sidebar {
            display: none;
        }
      }


    </style>
</head>

<body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar">
            <nav class="navbar top-navbar navbar-expand-md navbar-dark">
                <div class="navbar-header">
                    <!-- This is for the sidebar toggle which is visible on mobile only -->
                    <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)">
                        <i class="ti-menu ti-close"></i>
                    </a>
                    <!-- ============================================================== -->
                    <!-- Logo -->
                    <!-- ============================================================== -->
                    <div class="navbar-brand">
                        <a href="index.html" class="logo">
                            <!-- Logo icon -->
                            <b class="logo-icon">
                                <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                                <!-- Dark Logo icon -->
                                <img src="https://www.telecomprocess.com/main/assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
                                <!-- Light Logo icon -->
                                <img src="https://www.telecomprocess.com/main/assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
                            </b>
                            <!--End Logo icon -->
                            <!-- Logo text -->
                            <span class="logo-text">
                                <!-- dark Logo text -->
                                <img src="https://www.telecomprocess.com/main/assets/images/logo-text.png" alt="homepage" class="dark-logo" />
                                <!-- Light Logo text -->
                                <img src="https://www.telecomprocess.com/main/assets/images/logo-light-text.png" class="light-logo" alt="homepage" />
                            </span>
                        </a>
                        <a class="sidebartoggler d-none d-md-block" href="javascript:void(0)"
                            data-sidebartype="mini-sidebar">
                            <i class="mdi mdi-toggle-switch mdi-toggle-switch-off font-20"></i>
                        </a>
                    </div>
                    <!-- ============================================================== -->
                    <!-- End Logo -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Toggle which is visible on mobile only -->
                    <!-- ============================================================== -->
                    <a class="topbartoggler d-block d-md-none waves-effect waves-light" href="javascript:void(0)"
                        data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="ti-more"></i>
                    </a>
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse collapse" id="navbarSupportedContent">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-left mr-auto">
                        <!-- <li class="nav-item d-none d-md-block">
                            <a class="nav-link sidebartoggler waves-effect waves-light" href="javascript:void(0)" data-sidebartype="mini-sidebar">
                                <i class="mdi mdi-menu font-24"></i>
                            </a>
                        </li> -->
                        <!-- ============================================================== -->
                        <!-- Search -->
                        <!-- ============================================================== -->
                        <li class="nav-item search-box">
                            <form class="app-search position-absolute" style="display: block;">
                              <div class="col-md-9 docs-buttons" style="margin-left: 30vw;">
                                    <!-- <h3>Toolbar:</h3> -->
                                    <div class="btn-group">
                                        <button id="bold-button" type="button" class="btn btn-primary" onclick="insertOrReplace('bold')" title="Bold">
                                            <span class="docs-tooltip">
                                      <span class="fas fa-bold"></span>
                                            </span>
                                        </button>
                                        <button id="italic-button" type="button" class="btn btn-primary" onclick="insertOrReplace('italic')" title="Italic">
                                            <span class="docs-tooltip" >
                                      <span class="fa fa-italic"></span>
                                            </span>
                                        </button>
                                    </div>
                                    <div class="btn-group">
                                        <button id="hone-button" type="button" class="btn btn-primary" onclick="insertOrReplace('hone')" title="Insert H1">
                                            <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title="Insert H1">
                                      <span class="mdi mdi-format-header-1"></span>
                                            </span>
                                        </button>
                                        <button id="htwo-button" type="button" class="btn btn-primary" onclick="insertOrReplace('htwo')" title="Insert H2">
                                            <span class="docs-tooltip" >
                                      <span class="mdi mdi-format-header-2"></span>
                                            </span>
                                        </button>
                                    </div>
                                    <div class="btn-group">
                                        <button id="ul-button" type="button" class="btn btn-primary" onclick="insertOrReplace('list')" title="Insert List">
                                            <span class="docs-tooltip" >
                                      <span class="mdi mdi-format-list-bulleted"></span>
                                            </span>
                                        </button>
                                        <button id="section-button" type="button" class="btn btn-primary" onclick="insertOrReplace('list')" title="Insert Section Character">
                                            <span class="docs-tooltip" >
                                      <span class="mdi mdi-format-section"></span>
                                            </span>
                                        </button>
                                        <button id="link-button" type="button" class="btn btn-primary" data-method="move" data-option="0" data-second-option="-10" title="Move Up">
                                            <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title="Create href">
                                      <span class="mdi mdi-link-variant"></span>
                                            </span>
                                        </button>
                                        <button id="paragraph-button" type="button" class="btn btn-primary" onclick="insertOrReplace('paragraph')" title="Insert Paragraph">
                                            <span class="docs-tooltip" >
                                      <span class="mdi mdi-format-pilcrow"></span>
                                            </span>
                                        </button>
                                    </div>
                                    <div class="btn-group">
                                        <button id="undo-button" type="button" class="btn btn-primary" data-method="rotate" data-option="-45" title="Rotate Left">
                                            <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title="Undo">
                                      <span class="fas fa-undo"></span>
                                            </span>
                                        </button>
                                        <button id="redo-button" type="button" class="btn btn-primary" data-method="rotate" data-option="45" title="Rotate Right">
                                            <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title="Redo">
                                      <span class="fa fa-redo"></span>
                                            </span>
                                        </button>
                                    </div>


                                    <div class="btn-group">
                                        <button id="save-button" type="button" class="btn btn-primary" data-method="reset" title="Reset">
                                            <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title="Save">
                                      <span class="fas fa-save"></span>
                                            </span>
                                        </button>
                                        <button id="live-button" type="button" class="btn btn-primary" data-method="destroy" title="Live Editor">
                                            <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title="Live Editor">
                                      <span class="fa fa-power-off"></span>
                                            </span>
                                        </button>
                                    </div>

                                </div>
                            </form>
                        </li>
                    </ul>
                    <!-- ============================================================== -->
                    <!-- Right side toggle and nav items -->
                    <!-- ============================================================== -->

                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar">
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li class="nav-small-cap">
                            <i class="mdi mdi-dots-horizontal"></i>
                            <span class="hide-menu">Personal</span>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-av-timer"></i>
                                <span class="hide-menu">Dashboard </span>
                                <span class="badge badge-pill badge-info ml-auto m-r-15">3</span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                <li class="sidebar-item">
                                    <a href="index.html" class="sidebar-link">
                                        <i class="mdi mdi-adjust"></i>
                                        <span class="hide-menu"> Classic </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="index2.html" class="sidebar-link">
                                        <i class="mdi mdi-adjust"></i>
                                        <span class="hide-menu"> Analytical </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="index3.html" class="sidebar-link">
                                        <i class="mdi mdi-adjust"></i>
                                        <span class="hide-menu"> Modern </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-tune"></i>
                                <span class="hide-menu">Sidebar Type </span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                <li class="sidebar-item">
                                    <a href="sidebar-type-minisidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-quilt"></i>
                                        <span class="hide-menu"> Minisidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="sidebar-type-iconsidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-parallel"></i>
                                        <span class="hide-menu"> Icon Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="sidebar-type-overlaysidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-day"></i>
                                        <span class="hide-menu"> Overlay Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="sidebar-type-fullsidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-array"></i>
                                        <span class="hide-menu"> Full Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="sidebar-type-horizontalsidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-module"></i>
                                        <span class="hide-menu"> Horizontal Sidebar </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-crop-square"></i>
                                <span class="hide-menu">Page Layouts </span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                <li class="sidebar-item">
                                    <a href="layout-inner-fixed-left-sidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-format-align-left"></i>
                                        <span class="hide-menu"> Inner Fixed Left Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="layout-inner-fixed-right-sidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-format-align-right"></i>
                                        <span class="hide-menu"> Inner Fixed Right Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="layout-inner-left-sidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-format-float-left"></i>
                                        <span class="hide-menu"> Inner Left Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="layout-inner-right-sidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-format-float-right"></i>
                                        <span class="hide-menu"> Inner Right Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="page-layout-fixed-header.html" class="sidebar-link">
                                        <i class="mdi mdi-view-quilt"></i>
                                        <span class="hide-menu"> Fixed Header </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="page-layout-fixed-sidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-parallel"></i>
                                        <span class="hide-menu"> Fixed Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="page-layout-fixed-header-sidebar.html" class="sidebar-link">
                                        <i class="mdi mdi-view-column"></i>
                                        <span class="hide-menu"> Fixed Header &amp; Sidebar </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="page-layout-boxed-layout.html" class="sidebar-link">
                                        <i class="mdi mdi-view-carousel"></i>
                                        <span class="hide-menu"> Box Layout </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-small-cap">
                            <i class="mdi mdi-dots-horizontal"></i>
                            <span class="hide-menu">Apps</span>
                        </li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-chats.html" aria-expanded="false"><i class="mdi mdi-comment-processing-outline"></i><span class="hide-menu">Chat Apps</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-todo.html" aria-expanded="false"><i class="mdi mdi-clipboard-text"></i><span class="hide-menu">Todo</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-calendar.html" aria-expanded="false"><i class="mdi mdi-calendar"></i><span class="hide-menu">Calendar</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-taskboard.html" aria-expanded="false"><i class="mdi mdi-bulletin-board"></i><span class="hide-menu">Taskboard</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-contacts.html" aria-expanded="false"><i class="mdi mdi-account-box"></i><span class="hide-menu">Contact</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-notes.html" aria-expanded="false"><i class="mdi mdi-arrange-bring-forward"></i><span class="hide-menu">Notes</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link" href="app-invoice.html" aria-expanded="false"><i class="mdi mdi-book"></i><span class="hide-menu">Invoice</span></a></li>
                        <li class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-inbox"></i>
                                <span class="hide-menu">Inbox </span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                <li class="sidebar-item">
                                    <a href="inbox-email.html" class="sidebar-link">
                                        <i class="mdi mdi-email"></i>
                                        <span class="hide-menu"> Email </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="inbox-email-detail.html" class="sidebar-link">
                                        <i class="mdi mdi-email-alert"></i>
                                        <span class="hide-menu"> Email Detail </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="inbox-email-compose.html" class="sidebar-link">
                                        <i class="mdi mdi-email-secure"></i>
                                        <span class="hide-menu"> Email Compose </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="ti-bookmark"></i>
                                <span class="hide-menu">Ticket </span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                <li class="sidebar-item">
                                    <a href="ticket-list.html" class="sidebar-link">
                                        <i class="mdi mdi-book-multiple"></i>
                                        <span class="hide-menu"> Ticket List </span>
                                    </a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="ticket-detail.html" class="sidebar-link">
                                        <i class="mdi mdi-book-plus"></i>
                                        <span class="hide-menu"> Ticket Detail </span>
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="https://www.telecomprocess.com/main/docs/documentation.html" aria-expanded="false">
                                <i class="mdi mdi-content-paste"></i>
                                <span class="hide-menu">Documentation</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="authentication-login1.html" aria-expanded="false">
                                <i class="mdi mdi-directions"></i>
                                <span class="hide-menu">Log Out</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid"> <!-- JUMP TO MAIN AREA -->
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <!--<div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Editor Commands</h4>
                                <h6 class="card-subtitle">Also CodeMirror Toolbar</h6>

                            </div>
                        </div>
                    </div>
                </div>-->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                              <div id="editor-toolbar">
                                <p>
                                  <button onclick="window.location.href = `{% url 'sites:main-site-view' %}`;" class="btn waves-effect waves-light btn-info">Home</button>
                                </p>
                                <p>

                                  <select id="select-editor">
                                      <option value="none">-- Select Editor --</option>
                                      <option value="none">None</option>
                                      <option value="tm">TinyMCE</option>
                                      <option value="cm">CodeMirror</option>
                                  </select>
                                </p>
                                  <p>

                                    <select id="select-mode">
                                        <option value="htmlmixed">-- Select Mode --</option>
                                        <option value="htmlmixed">htmlmixed</option>
                                        <option value="text/plain">plain text</option>
                                        <option value="javascript">javascript</option>
                                        <option value="css">css</option>
                                        <option value="python">python</option>
                                        <option value="php">php</option>
                                        <option value="perl">perl</option>
                                        <option value="django">django</option>
                                        <option value="xml">xml</option>
                                    </select>
                                  </p>
                                  <p>

                                    <select id="select-theme">
                                        <option value="oceanic-next">-- Select Theme --</option>
                                        <option value="oceanic-next">oceanic-next</option>
                                        <option value="night">night</option>
                                        <option value="3024-day">3024-day</option>
                                        <option value="3024-night">3024-night</option>
                                        <option value="abcdef">abcdef</option>
                                        <option value="ambiance">ambiance</option>
                                        <option value="ayu-dark">ayu-dark</option>
                                        <option value="bespin">bespin</option>
                                        <option value="cobalt">cobalt</option>
                                        <option value="dracula">dracula</option>
                                        <option value="duotone-dark">duotone-dark</option>
                                        <option value="duotone-light">duotone-light</option>
                                        <option value="eclipse">eclipse</option>
                                        <option value="elegant">elegant</option>
                                        <option value="erlang-dark">erlang-dark</option>
                                        <option value="gruvbox-dark">gruvbox-dark</option>
                                        <option value="hopscotch">hopscotch</option>a>
                                        <option value="icecoder">icecoder</option>
                                        <option value="isotope">isotope</option>
                                        <option value="lesser-dark">lesser-dark</option>
                                        <option value="liquibyte">liquibyte</option>a>
                                        <option value="lucario">lucario</option>
                                        <option value="material">material</option>
                                        <option value="material-darker">material-darker</option>
                                        <option value="material-palenight">material-palenight</option>
                                        <option value="material-ocean">material-ocean</option>
                                        <option value="mdn-like">mdn-like</option>
                                        <option value="midnight">midnight</option>
                                        <option value="monokai">monokai</option>
                                        <option value="moxer">moxer</option>
                                        <option value="neat">neat</option>
                                        <option value="neo">neo</option>
                                        <option value="nord">nord</option>
                                        <option value="panda-syntax">panda-syntax</option>
                                        <option value="paraiso-dark">paraiso-dark</option>
                                        <option value="paraiso-light">paraiso-light</option>
                                        <option value="pastel-on-dark">pastel-on-dark</option>
                                        <option value="railscasts">railscasts</option>
                                        <option value="rubyblue">rubyblue</option>
                                        <option value="seti">seti</option>
                                        <option value="shadowfox">shadowfox</option>a>
                                        <option value="solarized">solarized</option>a>
                                        <option value="the-matrix">the-matrix</option>
                                        <option value="tomorrow-night-bright">tomorrow-night-bright</option>
                                        <option value="tomorrow-night-eighties">tomorrow-night-eighties</option>
                                        <option value="ttcn">ttcn</option>
                                        <option value="twilight">twilight</option>
                                        <option value="vibrant-ink">vibrant-ink</option>
                                        <option value="xq-dark">xq-dark</option>
                                        <option value="xq-light">xq-light</option>
                                        <option value="yeti">yeti</option>
                                        <option value="idea">idea</option>
                                        <option value="darcula">darcula</option>
                                        <option value="yonce">yonce</option>
                                        <option value="zenburn">zenburn</option>
                                    </select>
                                  </p>
                                  <p>

                                    <select id="select-page">
                                        <option value=0>-- Select Page --</option>
                                        {% for obj in s_pages %}
                                          <option value={{ forloop.counter0 }}>{{ obj.name }}</option>
                                        {% endfor %}
                                    </select>
                                  </p>
                                  <p>

                                    <select id="select-page-field">
                                      <option value="content">-- Select Page Field --</option>
                                      <option value="content">Content</option>
                                      <option value="all">All</option>
                                      <option value="metas">Page Metas</option>
                                      <option value="meta_description">Meta Description</option>
                                      <option value="h_one">H1 for Page</option>
                                      <option value="h_two">H2 for Page</option>
                                      <option value="custom_script">Page JS</option>
                                      <option value="stylesheet">Page Style</option>
                                    </select>
                                  </p>
                                  <p>
                                      <label for="hide-site-fields">Hide Site Fields</label>
                                      <input type="checkbox" name="hide-site-fields" id="hide-site-fields">
                                  </p>
                              </div>
                            </div>
                            <div class="card-body">
                                <!--<h4 class="card-title">Tinymce wysihtml5</h4>
                                <h6 class="card-subtitle">Bootstrap html5 editor</h6>-->
                                <form id="website-editor" class="ajax-form" action="" method="POST" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    {{ s_form.as_p }}

                                    {{ formset.as_p }}
                                    <button id="site-edit-btn" type='submit' class="btn waves-effect waves-light btn-info">Update</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center">
                All Rights Reserved by Nice admin. Designed and Developed by
                <a href="https://wrappixel.com">WrapPixel</a>.
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- customizer Panel -->
    <!-- ============================================================== -->
    <aside class="customizer">
        <a href="javascript:void(0)" class="service-panel-toggle" style="display: none;"><i class="fa fa-spin fa-cog"></i></a>
        <div class="customizer-body">
            <ul class="nav customizer-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab"
                        aria-controls="pills-home" aria-selected="true"><i class="mdi mdi-wrench font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#chat" role="tab"
                        aria-controls="chat" aria-selected="false"><i class="mdi mdi-message-reply font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab"
                        aria-controls="pills-contact" aria-selected="false"><i
                            class="mdi mdi-star-circle font-20"></i></a>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <!-- Tab 1 -->
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <div class="p-15 border-bottom">
                        <!-- Sidebar -->
                        <h5 class="font-medium m-b-10 m-t-10">Layout Settings</h5>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="theme-view" id="theme-view">
                            <label class="custom-control-label" for="theme-view">Dark Theme</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input sidebartoggler" name="collapssidebar"
                                id="collapssidebar">
                            <label class="custom-control-label" for="collapssidebar">Collapse Sidebar</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="sidebar-position"
                                id="sidebar-position">
                            <label class="custom-control-label" for="sidebar-position">Fixed Sidebar</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="header-position"
                                id="header-position">
                            <label class="custom-control-label" for="header-position">Fixed Header</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="boxed-layout" id="boxed-layout">
                            <label class="custom-control-label" for="boxed-layout">Boxed Layout</label>
                        </div>
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Logo Backgrounds</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-logobg="skin1"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-logobg="skin2"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-logobg="skin3"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-logobg="skin4"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-logobg="skin5"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-logobg="skin6"></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Navbar BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Navbar Backgrounds</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-navbarbg="skin1"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-navbarbg="skin2"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-navbarbg="skin3"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-navbarbg="skin4"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-navbarbg="skin5"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-navbarbg="skin6"></a></li>
                        </ul>
                        <!-- Navbar BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Sidebar Backgrounds</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-sidebarbg="skin1"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-sidebarbg="skin2"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-sidebarbg="skin3"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-sidebarbg="skin4"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-sidebarbg="skin5"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link"
                                    data-sidebarbg="skin6"></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                </div>
                <!-- End Tab 1 -->
                <!-- Tab 2 -->
                <div class="tab-pane fade" id="chat" role="tabpanel" aria-labelledby="pills-profile-tab">
                    <ul class="mailbox list-style-none m-t-20">
                        <li>
                            <div class="message-center chat-scroll">
                                <a href="javascript:void(0)" class="message-item" id='chat_user_1' data-user-id='1'>
                                    <span class="user-img"> <img src="https://www.telecomprocess.com/main/assets/images/users/1.jpg" alt="user"
                                            class="rounded-circle"> <span
                                            class="profile-status online pull-right"></span> </span>
                                    <div class="mail-contnet">
                                        <h5 class="message-title">Pavan kumar</h5> <span class="mail-desc">Just see the
                                            my admin!</span> <span class="time">9:30 AM</span>
                                    </div>
                                </a>
                                <!-- Message -->

                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id='chat_user_8' data-user-id='8'>
                                    <span class="user-img"> <img src="https://www.telecomprocess.com/main/assets/images/users/8.jpg" alt="user"
                                            class="rounded-circle"> <span
                                            class="profile-status offline pull-right"></span> </span>
                                    <div class="mail-contnet">
                                        <h5 class="message-title">Varun Dhavan</h5> <span class="mail-desc">Just see the
                                            my admin!</span> <span class="time">9:02 AM</span>
                                    </div>
                                </a>
                                <!-- Message -->
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- End Tab 2 -->
                <!-- Tab 3 -->
                <div class="tab-pane fade p-15" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                    <h6 class="m-t-20 m-b-20">Activity Timeline</h6>
                    <div class="steamline">
                        <div class="sl-item">
                            <div class="sl-left bg-success"> <i class="ti-user"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Meeting today <span class="sl-date"> 5pm</span></div>
                                <div class="desc">you can write anything </div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- End Tab 3 -->
            </div>
        </div>
    </aside>
    <div class="chat-windows"></div>
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script type="text/javascript" src={% static 'main/assets/libs/jquery/dist/jquery.min.js' %}></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script type="text/javascript" src={% static 'main/assets/libs/popper.js/dist/umd/popper.min.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/bootstrap/dist/js/bootstrap.min.js' %}></script>
    <!-- apps -->
    <script type="text/javascript" src={% static 'main/dist/js/app.min.js' %}></script>
    <script type="text/javascript" src={% static 'main/dist/js/app.init.custom.js' %}></script>
    <script type="text/javascript" src={% static 'main/dist/js/app-style-switcher.js' %}></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script type="text/javascript" src={% static 'main/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/extra-libs/sparkline/sparkline.js' %}></script>
    <!--Wave Effects -->
    <script type="text/javascript" src={% static 'main/dist/js/waves.js' %}></script>
    <!--Menu sidebar -->
    <script type="text/javascript" src={% static 'main/dist/js/sidebarmenu.js' %}></script>
    <!--Custom JavaScript -->
    <script type="text/javascript" src={% static 'main/dist/js/custom.min.js' %}></script>
    <!-- This Page JS -->
    <script type="text/javascript" src={% static 'main/assets/libs/tinymce/tinymce.min.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/tinymce/themes/modern/theme.min.js' %}></script>
    <!--<script src="https://www.telecomprocess.com/main/assets/libs/tinymce/themes/mobile/theme.min.js"></script>
    <script src="https://www.telecomprocess.com/main/assets/libs/tinymce/themes/inlite/theme.min.js"></script>-->

    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/lib/codemirror.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/sparksuite-codemirror-spell-checker-76b6450/dist/spell-checker.min.js' %}></script>

    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/mode/loadmode.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/meta.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/edit/closetag.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/fold/xml-fold.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/hint/show-hint.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/edit/matchtags.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/xml/xml.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/display/fullscreen.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/dialog/dialog.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/search/searchcursor.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/search/search.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/scroll/annotatescrollbar.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/search/matchesonscrollbar.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/search/jump-to-line.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/selection/active-line.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/edit/matchbrackets.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/javascript/javascript.js' %}></script>

    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/htmlmixed/htmlmixed.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/nginx/nginx.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/perl/perl.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/php/php.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/python/python.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/django/django.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/ruby/ruby.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/shell/shell.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/http/http.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/sass/sass.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/sql/sql.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/swift/swift.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/css/css.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/mode/clike/clike.js' %}></script>
    <script src="https://unpkg.com/jshint@2.9.6/dist/jshint.js"></script>
    <script src="https://unpkg.com/jsonlint@1.6.3/web/jsonlint.js"></script>
    <script src="https://unpkg.com/csslint@1.0.5/dist/csslint.js"></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/htmlhint.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/lint.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/javascript-lint.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/json-lint.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/css-lint.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/lint/html-lint.js' %}></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/diff_match_patch/20121119/diff_match_patch.js"></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/merge/merge.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/display/panel.js' %}></script>
    <script type="text/javascript" src={% static 'main/assets/libs/codemirror/codemirror-5.58.1/addon/hint/anyword-hint.js' %}></script>

    <script type="text/javascript" src={% static 'main/assets/extra-libs/toastr/dist/build/toastr.min.js' %}></script>
    <script>
    let pages = [
      {% for obj in s_pages %}
        `{{ obj.name }}`,
      {% endfor %}
      'new'
    ]
    let fullForm;
    let siteForm = {};
    let pageForms = [];
    let currentTMEditor = null;
    let currentCMEditor = null;
    let siteInputs = ['url', 'name', 'title', 'description', 'company_name', 'logo', 'auto_menu'];
    let siteTexts = ['metas', 'links', 'stylesheet', 'header', 'menu', 'footer', 'scripts', 'custom_script'];
    let pageInputs = ['dynamic', 'pathpattern', 'route', 'name', 'extension','mime_type', 'display_name', 'title','robots_meta'];
    let pageTexts = [ 'meta_description', 'metas', 'h_one', 'h_two', 'content', 'custom_script', 'links', 'stylesheet', 'scripts', 'header', 'footer'];
    let pageSelect = document.querySelector("#select-page");
    let pageFieldSelect = document.querySelector("#select-page-field");
    let editorSelect = document.querySelector("#select-editor");
    let modeSelect = document.querySelector("#select-mode");
    let themeSelect = document.querySelector("#select-theme");
    let hideSiteFields = document.querySelector('#hide-site-fields');
    let liveEditButton = document.querySelector("#live-button");
    let liveEditorRoute = "{% url 'sites:site-inline' site.id %}?route=/index.html";
    CodeMirror.modeURL = "../mode/%N/%N.js";

    function buildSiteObj() {
        for (let i = 0; i < siteInputs.length; i++) {
            const field = siteInputs[i];
            if (field === 'description') {
                siteForm[`${field}`] = {
                    editor: true,
                    label: `label[for="id_site-${field}"]`,
                    element: `textarea#id_site-${field}`
                }
            } else {
                siteForm[`${field}`] = {
                    editor: false,
                    label: `label[for="id_site-${field}"]`,
                    element: `input#id_site-${field}`
                }
            }

        }
        for (let i = 0; i < siteTexts.length; i++) {
            const field = siteTexts[i];
            siteForm[`${field}`] = {
                editor: true,
                label: `label[for="id_site-${field}"]`,
                element: `textarea#id_site-${field}`
            }
        }
    }

    function insertOrReplace(replacement) {
      if (currentCMEditor !== null) {
        let sel = currentCMEditor.getSelection();
        switch (replacement) {
            case "bold":
                currentCMEditor.replaceSelection(`<strong>${sel}</strong>`);
                break;
            case "italic":
                currentCMEditor.replaceSelection(`<em>${sel}</em>`);
                break;
            case "section":
                currentCMEditor.replaceSelection(`&sect;`);
                break;
            case "list":
                currentCMEditor.replaceSelection(`<ul><li>${sel}</li></ul>`);
                break;
            case "hone":
                currentCMEditor.replaceSelection(`<h1>${sel}</h1>`);
                break;
            case "htwo":
                currentCMEditor.replaceSelection(`<h2>${sel}</h2>`);
                break;
            case "paragraph":
                currentCMEditor.replaceSelection(`<p>${sel}</p>`);
                break;

            default:
                break;
        }
      }
    }

    function buildPagesObj() {
        for (let i = 0; i < pages.length; i++) {
            const page = pages[i];
            let pageForm = {
                option: `${page}`,
                value: i
            }
            for (let n = 0; n < pageInputs.length; n++) {
                const field = pageInputs[n];
                pageForm[`${field}`] = {
                    main: false,
                    editor: false,
                    label: `label[for="id_form-${i}-${field}"]`,
                    element: `input#id_form-${i}-${field}`
                }
            }
            for (let n = 0; n < pageTexts.length; n++) {
                const field = pageTexts[n];
                pageForm[`${field}`] = {
                    main: field === 'content' ? true : false,
                    editor: true,
                    label: `label[for="id_form-${i}-${field}"]`,
                    element: `textarea#id_form-${i}-${field}`
                }
            }
            pageForms.push(pageForm);
        }
    }

    function buildFormObj() {
        buildSiteObj();
        buildPagesObj();
        fullForm = {s: siteForm, ps: pageForms};
    }

    function changeSiteFields(e) {
      if (e.target.checked) {
        //console.log("Checkbox is checked..");
        for (const key in fullForm.s) {
            if (Object.hasOwnProperty.call(fullForm.s, key)) {
                const field = fullForm.s[key];
                if (key !== 'option' && key !== 'value'){
                  document.querySelector(`${field.label}`).classList.add('hide');
                  document.querySelector(`${field.element}`).classList.add('hide');
                }
            }
        }
      } else {
        //console.log("Checkbox is not checked..");
        for (const key in fullForm.s) {
            if (Object.hasOwnProperty.call(fullForm.s, key)) {
                const field = fullForm.s[key];
                if (key !== 'option' && key !== 'value'){
                  document.querySelector(`${field.label}`).classList.remove('hide');
                  document.querySelector(`${field.element}`).classList.remove('hide');
                }
            }
        }
      }
    }

    function changePage(e) {
        let selectedVal = e.target.options[e.target.selectedIndex].value;
        for (let i = 0; i < fullForm.ps.length; i++) {
            const page = fullForm.ps[i];
            if (selectedVal == i) {
              currentPage = page;
              for (const key in page) {
                  if (Object.hasOwnProperty.call(page, key)) {
                      const field = page[key];
                      if (key !== 'option' && key !== 'value'){
                        document.querySelector(`${field.label}`).classList.remove('hide');
                        document.querySelector(`${field.element}`).classList.remove('hide');
                        document.querySelector(`${field.label}`).classList.add('current');
                        document.querySelector(`${field.element}`).classList.add('current');
                      }
                  }
              }
            } else {
              for (const key in page) {
                  if (Object.hasOwnProperty.call(page, key)) {
                      const field = page[key];
                      if (key !== 'option' && key !== 'value'){
                        document.querySelector(`${field.label}`).classList.add('hide');
                        document.querySelector(`${field.element}`).classList.add('hide');
                        document.querySelector(`${field.label}`).classList.remove('current');
                        document.querySelector(`${field.element}`).classList.remove('current');
                      }
                  }
              }
            }
        }

        let event = new Event('change');

        pageFieldSelect.dispatchEvent(event);
        editorSelect.dispatchEvent(event);
        modeSelect.dispatchEvent(event);
        themeSelect.dispatchEvent(event);
        hideSiteFields.dispatchEvent(event);
    }

    function changePageField(e) {
        let currentPage = pageSelect.options[pageSelect.selectedIndex].value;
        let selectedVal = e.target.options[e.target.selectedIndex].value;
        for (let i = 0; i < fullForm.ps.length; i++) {
            const page = fullForm.ps[i];
            if (currentPage == i) {
              if (selectedVal === 'all') {
                for (const key in page) {
                    if (Object.hasOwnProperty.call(page, key)) {
                        const field = page[key];
                        if (key !== 'option' && key !== 'value'){
                          document.querySelector(`${field.label}`).classList.remove('hide');
                          document.querySelector(`${field.element}`).classList.remove('hide');
                        }
                    }
                }
              } else {
                for (const key in page) {
                    if (Object.hasOwnProperty.call(page, key)) {
                        const field = page[key];
                        if (key !== 'option' && key !== 'value'){
                          if (key === selectedVal){
                            document.querySelector(`${field.label}`).classList.remove('hide');
                            document.querySelector(`${field.element}`).classList.remove('hide');
                          } else{
                            document.querySelector(`${field.label}`).classList.add('hide');
                            document.querySelector(`${field.element}`).classList.add('hide');
                          }

                        }
                    }
                }
              }
            }
        }
        editorSelect.dispatchEvent(new Event('change'));
    }

    function changeEditor(e) {
        tinyMCE.remove()
        if (currentCMEditor !== null) {
          currentCMEditor.toTextArea();
          currentCMEditor = null;
        }
        let selectedVal = e.target.options[e.target.selectedIndex].value;
        let activeField = pageFieldSelect.options[pageFieldSelect.selectedIndex].value;
        let activePage = pageSelect.options[pageSelect.selectedIndex].value;
        let activeMode = modeSelect.options[modeSelect.selectedIndex].value;
        let activeTheme = themeSelect.options[themeSelect.selectedIndex].value;
        let pageType = document.querySelector(`${currentPage.extension.element}`).value

        if (activeField !== 'all'){
          if (selectedVal === 'tm') {
            if (activeField === 'content' && pageType.search(/\.html/ig) > -1) {

                tinymce.init({
                    selector: `${fullForm.ps[parseInt(activePage)].content.element}`,
                    theme: "modern",
                    height: 300,
                    setup: function (editor) {
                        editor.on('change', function () {
                            editor.save();
                        });
                    },
                    browser_spellcheck: true,
                    plugins: 'print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons',
                    menubar: 'file edit view insert format tools table help',
                    toolbar: 'undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap | template link anchor codesample',
                    toolbar_sticky: true,
                    image_advtab: true,
                    link_list: [
                      { title: 'My page 1', value: 'https://www.tiny.cloud' },
                      { title: 'My page 2', value: 'http://www.moxiecode.com' }
                    ],
                    image_list: [
                      { title: 'My page 1', value: 'https://www.tiny.cloud' },
                      { title: 'My page 2', value: 'http://www.moxiecode.com' }
                    ],
                    image_class_list: [
                      { title: 'None', value: '' },
                      { title: 'Some class', value: 'class-name' }
                    ],
                    templates: [
                          { title: 'New Table', description: 'creates a new table', content: '<div class="mceTmpl"><table width="98%%"  border="0" cellspacing="0" cellpadding="0"><tr><th scope="col"> </th><th scope="col"> </th></tr><tr><td> </td><td> </td></tr></table></div>' },
                      { title: 'Starting my story', description: 'A cure for writers block', content: 'Once upon a time...' },
                      { title: 'New list with dates', description: 'New List with dates', content: '<div class="mceTmpl"><span class="cdate">cdate</span><br /><span class="mdate">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>' }
                    ],
                    template_cdate_format: '[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]',
                    template_mdate_format: '[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]',
                    image_caption: true,
                    quickbars_selection_toolbar: 'bold italic | quicklink h2 h3 blockquote quickimage quicktable',
                    noneditable_noneditable_class: 'mceNonEditable',
                    toolbar_mode: 'sliding',
                    contextmenu: 'link image imagetools table',
                });
                currentTMEditor = `${fullForm.ps[parseInt(activePage)].content.element}`;

            }
          } else if (selectedVal === 'cm') {
            if (activeField === 'content' && pageType.search(/\.html/ig) > -1) {
              let editor = CodeMirror.fromTextArea(document.querySelector(`${fullForm.ps[parseInt(activePage)].content.element}`), {
                  lineNumbers: true,
                  styleActiveLine: true,
                  lineWrapping: true,
                  matchBrackets: true,
                  autoCloseTags: true,
                  theme: `${activeTheme}`,
                  mode: `${activeMode}`,
                  onChange: function() { editor.save() },
                  gutters: ["CodeMirror-lint-markers"],
                  lint: true,
                  matchTags: {bothTags: true},
                  extraKeys: {
                      "F11": function(cm) {
                      cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                      },
                      "Esc": function(cm) {
                      if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                      },
                      "Ctrl-J": "toMatchingTag",
                      "Alt-F": "findPersistent",
                      "Ctrl-Space": "autocomplete",
                  }
              });
              editor.setSize(null, 500);
              currentCMEditor = editor;

            } else {
              let editor = CodeMirror.fromTextArea(document.querySelector(`${fullForm.ps[parseInt(activePage)][activeField].element}`), {
                  lineNumbers: true,
                  styleActiveLine: true,
                  lineWrapping: true,
                  matchBrackets: true,
                  autoCloseTags: true,
                  onChange: function() { editor.save() },
                  theme: `${activeTheme}`,
                  mode: `${activeMode}`,
                  matchTags: {bothTags: true},
                  extraKeys: {
                      "F11": function(cm) {
                      cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                      },
                      "Esc": function(cm) {
                      if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                      },
                      "Ctrl-J": "toMatchingTag",
                      "Alt-F": "findPersistent",
                      "Ctrl-Space": "autocomplete",
                  }
              });
              editor.setSize(null, 500);
              currentCMEditor = editor;
            }
          }
        }

    }

    function changeMode(e) {
        if (currentCMEditor) {
          let selectedVal = e.target.options[e.target.selectedIndex].value;
          currentCMEditor.setOption("mode", `${selectedVal}`);
        }
    }

    function changeTheme(e) {
      if (currentCMEditor) {
        let selectedVal = e.target.options[e.target.selectedIndex].value;
        currentCMEditor.setOption("theme", `${selectedVal}`);
      }
    }

    function goToLive(e) {
      let pg = pageSelect.options[pageSelect.selectedIndex].value;
      let exten = document.querySelector(`#id_form-${pg}-extension`).value;
      let nme = document.querySelector(`#id_form-${pg}-name`).value;
      let rout = document.querySelector(`#id_form-${pg}-route`).value;
      if (exten.search(/\.html$/ig) > -1) {
        liveEditorRoute = `{% url 'sites:site-inline' site.id %}?route=${rout}${nme}${exten}`;
      } else {
        liveEditorRoute = "{% url 'sites:site-inline' site.id %}?route=/index.html";
      }
      window.location.href = `${liveEditorRoute}`;
    }

    // pageSelector.addEventListener('change', startEditor)



    $(document).ready(function () {
            buildFormObj();
            pageSelect.addEventListener('change', changePage);
            pageFieldSelect.addEventListener('change', changePageField);
            editorSelect.addEventListener('change', changeEditor);
            modeSelect.addEventListener('change', changeMode);
            themeSelect.addEventListener('change', changeTheme);
            hideSiteFields.addEventListener('change', changeSiteFields);
            liveEditButton.addEventListener('click', goToLive);
            pageSelect.dispatchEvent(new Event('change'));
            document.querySelector("#save-button").addEventListener("click", (e)=>{
              document.querySelector("#site-edit-btn").click();
            })

            $('.ajax-form').submit(function(e){
                e.preventDefault()
                const url = `{% url 'sites:site-edit' site.id %}`;
                let reqforms = $("input#id_form-TOTAL_FORMS").val();
                let dat = {
                  'csrfmiddlewaretoken': $('input[name=csrfmiddlewaretoken]').val(),
                  'site-url': $("#id_site-url").val(),
                  'site-name': $("#id_site-name").val(),
                  'site-title': $("#id_site-title").val(),
                  'site-description': $("#id_site-description").val(),
                  'site-company_name': $("#id_site-company_name").val(),
                  'site-logo': $("#id_site-logo").val(),
                  'site-metas': $("#id_site-metas").val(),
                  'site-links': $("#id_site-links").val(),
                  'site-stylesheet': $("#id_site-stylesheet").val(),
                  'site-header': $("#id_site-header").val(),
                  'site-menu': $("#id_site-menu").val(),
                  'site-footer': $("#id_site-footer").val(),
                  'site-scripts': $("#id_site-scripts").val(),
                  'site-custom_script': $("#id_site-custom_script").val(),
                  'form-TOTAL_FORMS': $("#id_form-TOTAL_FORMS").val(),
                  'form-INITIAL_FORMS': $("#id_form-INITIAL_FORMS").val(),
                  'form-MIN_NUM_FORMS': $("#id_form-MIN_NUM_FORMS").val(),
                  'form-MAX_NUM_FORMS': $("#id_form-MAX_NUM_FORMS").val(),

                }

                for (i=0; i < reqforms; i++) {
                  dat[`form-${i}-pathpattern`] = $(`#id_form-${i}-pathpattern`).val();
                  dat[`form-${i}-route`] = $(`#id_form-${i}-route`).val();
                  dat[`form-${i}-name`] = $(`#id_form-${i}-name`).val();
                  dat[`form-${i}-extension`] = $(`#id_form-${i}-extension`).val();
                  dat[`form-${i}-mime_type`] = $(`#id_form-${i}-mime_type`).val();
                  dat[`form-${i}-display_name`] = $(`#id_form-${i}-display_name`).val();
                  dat[`form-${i}-title`] = $(`#id_form-${i}-title`).val();
                  dat[`form-${i}-robots_meta`] = $(`#id_form-${i}-robots_meta`).val();
                  dat[`form-${i}-meta_description`] = $(`#id_form-${i}-meta_description`).val();
                  dat[`form-${i}-metas`] = $(`#id_form-${i}-metas`).val();
                  dat[`form-${i}-h_one`] = $(`#id_form-${i}-h_one`).val();
                  dat[`form-${i}-h_two`] = $(`#id_form-${i}-h_two`).val();
                  dat[`form-${i}-content`] = $(`#id_form-${i}-content`).val();
                  dat[`form-${i}-custom_script`] = $(`#id_form-${i}-custom_script`).val();
                  dat[`form-${i}-links`] = $(`#id_form-${i}-links`).val();
                  dat[`form-${i}-stylesheet`] = $(`#id_form-${i}-stylesheet`).val();
                  dat[`form-${i}-scripts`] = $(`#id_form-${i}-scripts`).val();
                  dat[`form-${i}-header`] = $(`#id_form-${i}-header`).val();
                  dat[`form-${i}-footer`] = $(`#id_form-${i}-footer`).val();
                  dat[`form-${i}-id`] = $(`#id_form-${i}-id`).val();

                }

                $.ajax({
                    type: 'POST',
                    url: url,
                    data: dat,
                    success: function(response) {
                        if (response['value'] === 'true'){
                          console.log("success");
                          toastr.success('{{ site.url }} has been updated', 'Success!');
                        } else {
                          console.log("failure");
                          console.log(response);
                          toastr.error('An error occurred while saving {{ site.url }}...', 'Failure');
                        }
                    },
                    error: function(response) {
                        console.log('error', response)
                        toastr.error('An error occurred while saving {{ site.url }}...', 'Error!');
                    }
                })
            });
    });

    /*$(document).ready(function () {
            tinymce.init({
                selector: "textarea.page-textarea-content",
                theme: "modern",
                height: 300,
                plugins: [
                    "advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
                    "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
                    "save table contextmenu directionality emoticons template paste textcolor"
                ],
                toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | l      ink image | print preview media fullpage | forecolor backcolor emoticons",

            });

            if ($("#mymce3").length > 0) {
                cmEditor = CodeMirror.fromTextArea(document.querySelector('#mymce3'), {
                    lineNumbers: true,
                    styleActiveLine: true,
                    lineWrapping: true,
                    matchBrackets: true,
                    autoCloseTags: true,
                    mode: "htmlmixed",
                    gutters: ["CodeMirror-lint-markers"],
                    lint: true,
                    matchTags: {bothTags: true},
                    extraKeys: {
                        "F11": function(cm) {
                        cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                        },
                        "Esc": function(cm) {
                        if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                        },
                        "Ctrl-J": "toMatchingTag",
                        "Alt-F": "findPersistent",
                        "Ctrl-Space": "autocomplete",
                    }
                });

                cmEditor.setOption("theme", 'night');
            }
    });*/
    </script>
</body>

</html>
